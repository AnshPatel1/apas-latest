<!DOCTYPE html>
<html
        lang="en"
        class="light-style layout-menu-fixed layout-navbar-fixed layout-menu-collapsed"
        dir="ltr"
        data-theme="theme-default"
        data-assets-path="/static/assets/"
        data-template="vertical-menu-template-free"
>
<head>
    <meta charset="utf-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>RO2 - Dashboard</title>
    <link rel="icon" type="image/x-icon" href="../../../media/admin-interface/favicon/Pandit_Deendayal_Energy_University_logo-2.png">
    <meta name="description" content=""/>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <script src="https://kit.fontawesome.com/5fbd3e2d5f.js" crossorigin="anonymous"></script>
    <link
            href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
            rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="/static/assets/vendor/fonts/boxicons.css"/>

    <!-- Core CSS -->
    <link rel="stylesheet" href="/static/assets/vendor/css/core.css" class="template-customizer-core-css"/>
    <link rel="stylesheet" href="/static/assets/vendor/css/theme-default.css" class="template-customizer-theme-css"/>
    <link rel="stylesheet" href="/static/assets/css/demo.css"/>

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="/static/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css"/>

    <link rel="stylesheet" href="/static/assets/vendor/libs/apex-charts/apex-charts.css"/>

    <!-- Page CSS -->

    <link rel="stylesheet" href="/static/assets/vendor/css/tm2.css"/>

    <!-- Helpers -->
    <script src="/static/assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="/static/assets/js/config.js"></script>
    {#    <script src="/static/assets/js/show-spinner.js"></script>#}

</head>
<body>

<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <!-- Menu -->

        {% include 'includes/ro2-dashboard-sidebar.html' %}
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">

            <!-- Navbar -->
            <nav class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme justify-content-between"
                 id="layout-navbar">
                <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
                    <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                        <i class="bx bx-menu bx-sm"></i>
                    </a>
                </div>

                {% include 'html/r2/includes/dashboard-nav.html' %}
            </nav>            <!-- / Navbar -->

            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Content -->

                <div class="container-p-y pe-3 ps-3">
                    <div class="row">
                        <div class="col-12 mb-4">
                            <div class="card border border-primary">
                                <div class="d-flex align-items-end row">
                                    <div class="col-sm-7">
                                        <div class="card-body">
                                            <h5 class="card-title text-primary">Important Announcement ðŸ“¢</h5>
                                            <p class="mb-4 mt-5">
                                                {% if stage == 'parameter_approval' %}
                                                    You need to approve the parameters submitted by the Staff by .
                                                    <span class="fw-bold">{{ cycle.parameter_approval_end_date }}</span>.
                                                    <br>
                                                    Officers are requested to complete their process by then.
                                                {% elif stage == 'appraisal' %}
                                                    Current appraisal cycle is in progress. It will end by <span class="fw-bold">{{ cycle.appraisal_end_date }}</span>.
                                                    <br>
                                                    Please wait. You may be able to start reviewing the appraisal forms after
                                                    <span class="fw-bold">{{ cycle.r1_approval_start_date }}</span>.
                                                {% elif stage == 'r1_approval' %}
                                                    You need to grade and process the appraisal forms submitted by the Staff by
                                                    <span class="fw-bold">{{ cycle.r1_approval_end_date }}</span>.<br>
                                                    Officers are requested to complete their process by then.
                                                {% elif stage == 'r2_approval' %}
                                                    Reviewing officer submission is till
                                                    <span class="fw-bold">{{ cycle.r2_approval_end_date }}</span>.<br>
                                                {% elif stage == 'completed' %}
                                                    R1 and R2 cycle is completed. <br>
                                                    Results will be published soon.
                                                {% endif %}

                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 text-center text-sm-left">
                                        <div class="card-body pb-0 px-0 px-md-4">
                                            <img
                                                    src="/static/assets/img/illustrations/man-with-laptop-light.png"
                                                    height="140"
                                                    alt="View Badge User"
                                                    data-app-dark-img="illustrations/man-with-laptop-dark.png"
                                                    data-app-light-img="illustrations/man-with-laptop-light.png"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-8" style="height: 100%">
                            <div class="card mb-4">
                                        <h5 class="card-header">Profile Details</h5>
                                        <hr class="my-0"/>
                                        <div class="card-body">
                                            <style>
                                                input:focus  {
                                                    outline: none !important;
                                                    border: 1px solid #d9dee3 !important;
                                                    box-shadow: none !important;
                                                }
                                            </style>
                                            <div class="row">
                                                <div class="mb-3 col-md-6">
                                                    <label for="state" class="form-label">Role</label>
                                                    <input class="form-control" type="text" id="state" name="state" placeholder="RO2" value="RO2" readonly/>
                                                </div>
                                                <div class="mb-3 col-md-6">
                                                    <label for="zipCode" class="form-label">Username</label>
                                                    <input
                                                            type="text"
                                                            class="form-control"
                                                            id="zipCode"
                                                            name="zipCode"
                                                            value="{{ request.user.username }}"
                                                            placeholder="231465"
                                                            maxlength="6"
                                                            readonly
                                                    />
                                                </div>
                                                <div class="mb-3 col-md-6">
                                                    <label for="firstName" class="form-label">Full Name</label>
                                                    <input
                                                            class="form-control"
                                                            type="text"
                                                            id="firstName"
                                                            name="firstName"
                                                            value="{{ request.user.full_name }}"
                                                            readonly
                                                    />
                                                </div>
                                                <div class="mb-3 col-md-6">
                                                    <label for="address" class="form-label">Designation</label>
                                                    <input type="text" class="form-control" id="address" name="address" value="{{ request.user.designation }}"
                                                           placeholder="Address" readonly/>
                                                </div>

                                                <div class="mb-3 col-md-6">
                                                    <label for="email" class="form-label">E-mail</label>
                                                    <input
                                                            class="form-control"
                                                            type="text"
                                                            id="email"
                                                            name="email"
                                                            value="{{ request.user.email }}"
                                                            placeholder="john.doe@example.com"
                                                            readonly
                                                    />
                                                </div>
                                                <div class="mb-3 col-md-6">
                                                    <label for="address" class="form-label">School</label>
                                                    <input type="text" class="form-control" id="address" name="address" value="{{ request.user.school }}"
                                                           placeholder="Address" readonly/>
                                                </div>
                                                <div class="mb-3 col-md-6">
                                                    <label for="organization" class="form-label">Department
                                                    </label>
                                                    <input
                                                            type="text"
                                                            class="form-control"
                                                            id="organization"
                                                            name="{{ request.user.department }}"
                                                            value="{{ request.user.department }}"
                                                            readonly
                                                    />
                                                </div>


                                            </div>
                                        </div>

                                        <!-- /Account -->
                                    </div>

                        </div>
                        <div class="col-4 pb-4">
                            <div class="card" style="height: 100%; width: 100%;">
                                    <h5 class="card-header">Days Remaining</h5>
                                <hr class="my-0"/>
                                <div class="row row-bordered g-0">
                                    <div class="col-md-11 w-100">
                                        <div class="card-body">
                                            <div id="daysChart"></div>
                                        </div>
                                        <div class="text-center fw-semibold p-4 mb-2">
                                            {% if stage == 'parameter_approval' %}
                                                {{ time_left }} Days Remaining for Submission and Approval of Parameters</div>
                                            {% elif stage == 'appraisal' %}
                                                {{ time_left }} Days Remaining for Submission of Details for Appraisal</div>
                                            {% elif stage == 'r1_approval' %}
                                                {{ time_left }} Days Remaining for Reporting Officers to process your data</div>
                                            {% elif stage == 'r2_approval' %}
                                                {{ time_left }} Days Remaining for Directors to process your data</div>
                                            {% endif %}

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Total Revenue -->
                        {#                        <div class="col-4">#}
                        {#                            <div class="card" style="height: 100%; overflow: hidden">#}
                        {#                                <div>#}
                        {#                                    <div class="card-body">#}
                        {#                                        <div id="growthChart"></div>#}
                        {#                                    </div>#}
                        {#                                    <div class="d-flex justify-content-center">#}
                        {#                                        <div>#}
                        {#                                            <table class="table table-striped table-hover table-bordered mb-3">#}
                        {#                                                <tr style="cursor:pointer;">#}
                        {#                                                    <td>#}
                        {#                                                        Pending Reviews#}
                        {#                                                    </td>#}
                        {#                                                    <th>#}
                        {#                                                        33#}
                        {#                                                    </th>#}
                        {#                                                </tr>#}
                        {#                                                <tr style="cursor:pointer;">#}
                        {#                                                    <td>#}
                        {#                                                        Completed Reviews#}
                        {#                                                    </td>#}
                        {#                                                    <th>#}
                        {#                                                        33#}
                        {#                                                    </th>#}
                        {#                                                </tr>#}
                        {#                                                <tr style="cursor:pointer;">#}
                        {#                                                    <td>#}
                        {#                                                        Yet to be Filled#}
                        {#                                                    </td>#}
                        {#                                                    <th>#}
                        {#                                                        33#}
                        {#                                                    </th>#}
                        {#                                                </tr>#}
                        {#                                            </table>#}
                        {#                                        </div>#}
                        {#                                    </div>#}
                        {#                                </div>#}
                        {#                            </div>#}
                        {#                        </div>#}
                    </div>
{#                    <div class="row">#}
{##}
{##}
{#                        <div class="col-lg-12 mt-4">#}
{#                            <div class="card">#}
{#                                <div class="card-title">#}
{#                                    <h5 class="card-header">Staff Appraisal Cycle Timeline</h5>#}
{##}
{#                                </div>#}
{#                                <hr class="my-0"/>#}
{#                                <div class="card-body">#}
{#                                    <section class="timeline_area section_padding_130">#}
{#                                        <div class="container">#}
{##}
{#                                            <div class="row">#}
{#                                                <div class="col-12">#}
{#                                                    <!-- Timeline Area-->#}
{#                                                    <div class="apland-timeline-area">#}
{#                                                        <!-- Single Timeline Content-->#}
{#                                                        <div class="single-timeline-area">#}
{#                                                            <div class="timeline-date wow fadeInLeft"#}
{#                                                                 data-wow-delay="0.1s"#}
{#                                                                 style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInLeft;">#}
{#                                                                <p>Phase 1</p>#}
{#                                                            </div>#}
{#                                                            <div class="row">#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'parameter_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.3s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-regular fa-paper-plane"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Parameter Approval</h6>#}
{#                                                                            <p>The staff member will submit key, major#}
{#                                                                                and#}
{#                                                                                minor parameters and send it to RO2 for#}
{#                                                                                approval. Make sure to submit it and get it approved#}
{#                                                                                by {{ cycle.parameter_approval_end_date }}.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'parameter_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.5s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.5s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-rotate"#}
{#                                                                                aria-hidden="true"></i>#}
{#                                                                        </div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Parameter Approval By RO2</h6>#}
{#                                                                            <p>RO2 needs to accept or reject the#}
{#                                                                                parameters#}
{#                                                                                and send the control back to the staff#}
{#                                                                                member.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'appraisal' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.7s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.7s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-check"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Completion of Phase 1</h6>#}
{#                                                                            <p>All parameters are approved by RO2. Staff#}
{#                                                                                can#}
{#                                                                                now fill up other details {{ cycle.appraisal_start_date }} onwards as Phase 2 starts.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <!-- Single Timeline Content-->#}
{#                                                        <div class="single-timeline-area">#}
{#                                                            <div class="timeline-date wow fadeInLeft"#}
{#                                                                 data-wow-delay="0.1s"#}
{#                                                                 style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInLeft;">#}
{#                                                                <p>Phase 2</p>#}
{#                                                            </div>#}
{#                                                            <div class="row">#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'appraisal' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.3s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-paper-plane"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Submit Details</h6>#}
{#                                                                            <p>Submit all the details before {{ cycle.appraisal_end_date }}</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'r1_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.3s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-pencil"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Grading Process</h6>#}
{#                                                                            <p>Your RO2 is grading your self-appraisal details.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'r1_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.5s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.5s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-angles-right"#}
{#                                                                                aria-hidden="true"></i>#}
{#                                                                        </div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Submit to RO2</h6>#}
{#                                                                            <p>RO2 is done giving marks and now RO2 will process#}
{#                                                                                after {{ cycle.r2_approval_start_date }}</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <!-- Single Timeline Content-->#}
{#                                                        <div class="single-timeline-area">#}
{#                                                            <div class="timeline-date wow fadeInLeft"#}
{#                                                                 data-wow-delay="0.1s"#}
{#                                                                 style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInLeft;">#}
{#                                                                <p>Phase 3</p>#}
{#                                                            </div>#}
{#                                                            <div class="row">#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'r2_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.3s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-pencil"#}
{#                                                                                aria-hidden="true"></i>#}
{#                                                                        </div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>RO2 Grading</h6>#}
{#                                                                            <p>RO2 is processing your self-appraisal request and will conclude#}
{#                                                                                by {{ cycle.r2_approval_end_date }}.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{##}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'r2_approval' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.7s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.7s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-angles-right"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Submit to HR</h6>#}
{#                                                                            <p>RO2 is done grading and has given the details to HR.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="single-timeline-area">#}
{#                                                            <div class="timeline-date wow fadeInLeft"#}
{#                                                                 data-wow-delay="0.1s"#}
{#                                                                 style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInLeft;">#}
{#                                                                <p>Phase 4</p>#}
{#                                                            </div>#}
{#                                                            <div class="row">#}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'completed' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.3s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-solid fa-check-double"#}
{#                                                                                aria-hidden="true"></i>#}
{#                                                                        </div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Final Submission</h6>#}
{#                                                                            <p>HR is required to give the final#}
{#                                                                                "go-ahead"#}
{#                                                                                to finalize the cycle and record the#}
{#                                                                                marks#}
{#                                                                                and grade appraisee obtained</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{##}
{#                                                                <div class="col-12 col-md-6 col-lg-4">#}
{#                                                                    <div class="single-timeline-content {% if stage == 'completed' %} active {% endif %} d-flex wow fadeInLeft"#}
{#                                                                         data-wow-delay="0.7s"#}
{#                                                                         style="visibility: visible; animation-delay: 0.7s; animation-name: fadeInLeft;">#}
{#                                                                        <div class="timeline-icon"><i#}
{#                                                                                class="fa-brands fa-gg"#}
{#                                                                                aria-hidden="true"></i></div>#}
{#                                                                        <div class="timeline-text">#}
{#                                                                            <h6>Result Declaration</h6>#}
{#                                                                            <p>The results are published at this stage and are available at status section on the#}
{#                                                                                sidebar.</p>#}
{#                                                                        </div>#}
{#                                                                    </div>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </section>#}
{##}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
{##}
                    {% include "html/staff/includes/staff-timeline.html" %}
                    <!--/ Total Revenue -->

                </div>

            </div>
            <!-- / Content -->

            <!-- Footer -->
            {% include "includes/footer.html" %}
            <!-- / Footer -->

            <div class="content-backdrop fade m-0"></div>
        </div>
        <!-- Content wrapper -->
    </div>
    <!-- / Layout page -->
</div>

<!-- Overlay -->
<div class="layout-overlay layout-menu-toggle"></div>
</div>
<!-- / Layout wrapper -->


<!-- Core JS -->
<!-- build:js assets/vendor/js/core.js -->
<script src="/static/assets/vendor/libs/jquery/jquery.js"></script>
<script src="/static/assets/vendor/libs/popper/popper.js"></script>
<script src="/static/assets/vendor/js/bootstrap.js"></script>
<script src="/static/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

<script src="/static/assets/vendor/js/menu.js"></script>
<!-- endbuild -->

<!-- Vendors JS -->
<script src="/static/assets/vendor/libs/apex-charts/apexcharts.js"></script>

<!-- Main JS -->
<script src="/static/assets/js/main.js"></script>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script>
    // --------------------------------------------------------------------
    let cycleEndDate,cycleStartDate;
    {% if cycle.name == 'verification' %}
        cycleStartDate = new Date(Date.parse("{{ cycle.config.verification_start_date }}"));
        cycleEndDate = new Date(Date.parse("{{ cycle.config.verification_end_date }}"));
    {% elif cycle.name == 'appraisal' %}
        cycleStartDate = new Date(Date.parse("{{ cycle.config.appraisal_start_date }}"));
        cycleEndDate = new Date(Date.parse("{{ cycle.config.appraisal_end_date }}"));
    {% elif cycle.name == 'r1_approval' %}
        cycleStartDate = new Date(Date.parse("{{ cycle.config.r1_approval_start_date }}"));
        cycleEndDate = new Date(Date.parse("{{ cycle.config.r1_approval_end_date }}"));
    {% elif cycle.name == 'r2_approval' %}
        cycleStartDate = new Date(Date.parse("{{ cycle.config.r2_approval_start_date }}"));
        cycleEndDate = new Date(Date.parse("{{ cycle.config.r2_approval_end_date }}"));
{#    {% elif cycle.name == 'completed' %}#}
{#        cycleStartDate = new Date(Date.parse("{{ cycle.config.appraisal_start_date }}"));#}
{#        cycleEndDate = new Date(Date.parse(" {{ cycle.config.appraisal_end_date }}"));#}
    {% else %}
        cycleStartDate = 0;
        cycleEndDate = 0;
    {% endif %}
    const currentDate = new Date(Date.parse("{{ cycle.current_date }}"));

    const diffDays = Math.ceil((cycleEndDate.getTime() - currentDate.getTime()) / (1000 * 60 * 60 * 24));
    const currentCycleTotalDays = Math.ceil(( cycleEndDate.getTime() - cycleStartDate.getTime() ) / (1000 * 60 * 60 * 24));

    const valueToPercent = (val) => (val * 100) / currentCycleTotalDays;
    let days = (diffDays<0)? 0 : diffDays;
    // Growth Chart - Radial Bar Chart
    // --------------------------------------------------------------------
    var options = {
        chart: {
            height: 280,
            type: "radialBar",
            max: 58
        },
        radialBar: {
            range: [0, 1000] // [startValue, endValue]
        },
        series: [valueToPercent(days)],
        colors: ["#797bff"],
        plotOptions: {
            radialBar: {
                hollow: {
                    margin: 0,
                    size: "70%",
                    background: "#fff"
                },
                track: {
                    dropShadow: {
                        enabled: true,
                        top: 2,
                        left: 0,
                        blur: 4,
                        opacity: 0.15
                    }
                },
                dataLabels: {
                    name: {
                        offsetY: -10,
                        color: "#697a7d",
                        fontSize: "20px"
                    },
                    value: {
                        color: "#697a7d",
                        fontSize: "30px",
                        show: true,
                        formatter: function () {
                            return days;
                        }
                    }
                }
            }
        },
        stroke: {
            lineCap: "round"
        },
        labels: ["Days Remaining"]
    };
    var chart = new ApexCharts(document.querySelector("#daysChart"), options);

    chart.render();
</script>
</body>
</html>
